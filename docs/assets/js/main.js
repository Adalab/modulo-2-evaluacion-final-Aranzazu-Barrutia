"use strict";const inputSearch=document.querySelector(".js-textSearch"),btnSearch=document.querySelector(".js-buttonSearch"),formList=document.querySelector(".js-listcontainer"),favList=document.querySelector(".js-favs-list"),btnReset=document.querySelector(".js-button-reset");let listSeries=[],favSeries=[];function getItem(){const e=localStorage.getItem("favorites");if(e){favSeries=JSON.parse(e),favList.innerHTML="";for(const e of favSeries){const t=e.show.id,s=e.show.name,i="https://via.placeholder.com/210x295/ffffff/666666/?text=TV",n=null===e.show.image?i:e.show.image.medium;favList.innerHTML+=`<li id=${t} class="div_list_section_ul_card js-serie">\n        <img class="div_list_section_ul_img" src="${n}" alt="">\n        <h2>${s}</h2>\n        <button class="btnX js-button-delete" onclick="">X</button>\n      </li>`}}}function getApiData(e){e.preventDefault(),formList.innerHTML="";const t=inputSearch.value;fetch("https://api.tvmaze.com/search/shows?q="+t).then(e=>e.json()).then(e=>{listSeries=e;for(const t of e){const e=t.show.id,s=t.show.name,i="https://via.placeholder.com/210x295/ffffff/666666/?text=TV",n=null===t.show.image?i:t.show.image.medium;formList.innerHTML+=`<li  id=${e} class="div_list_section_ul_card js-serie">\n        <img class="div_list_section_ul_img" src="${n}" alt="">\n        <h2>${s}</h2>\n        <button class="btnX js-button-delete">X</button>\n        </li>`}addEventToSerie()})}function favorites(e){e.preventDefault();const t=parseInt(e.currentTarget.id),s=listSeries.find(e=>e.show.id===t);if(s){favSeries.push(s),e.currentTarget.classList.add("favSeries"),e.currentTarget.classList.remove("oneSerie");const t=s.show.id,i=s.show.name,n="https://via.placeholder.com/210x295/ffffff/666666/?text=TV",o=null===s.show.image?n:s.show.image.medium;favList.innerHTML+=`<li id=${t} class="div_list_section_ul_card js-serie">\n        <img class="div_list_section_ul_img" src="${o}" alt="">\n        <h2>${i}</h2>\n        <button class="btnX js-button-delete" onclick="">X</button>\n      </li>`,localStorage.setItem("favorites",JSON.stringify(favSeries))}}function addEventToSerie(){const e=document.querySelectorAll(".js-serie");for(const t of e)t.addEventListener("click",favorites)}function handleReset(){const e=document.querySelector(".js-section-fav");favSeries=[],e.innerHTML="",location.reload(),localStorage.setItem("myShows",JSON.stringify(favList))}getItem(),btnReset.addEventListener("click",handleReset),btnSearch.addEventListener("click",getApiData);